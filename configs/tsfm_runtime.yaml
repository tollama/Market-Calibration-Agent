tsfm:
  freq: 5m
  input_len_steps: 288
  horizon_steps: 12
  quantiles: [0.1, 0.5, 0.9]
  transform:
    space: logit
    eps: 1e-6
  missing:
    max_gap_minutes: 60
    min_points_for_tsfm: 32
  adapter:
    timeout_s: 1.2
    retry_count: 1
    retry_backoff_ms: 120
    retry_jitter_ms: 80
    deadline_budget_ms: 1600
    max_connections: 200
    max_keepalive_connections: 50
  cache:
    ttl_s: 60
    max_entries: 50000
    stale_if_error_s: 120
  circuit_breaker:
    window_s: 300
    min_requests: 5
    failure_rate_to_open: 1.0
    cooldown_s: 120
    half_open_probe_requests: 2
    half_open_successes_to_close: 2
  degradation:
    window_s: 300
    min_requests: 5
    degraded_enter_failure_rate: 0.30
    baseline_only_enter_failure_rate: 0.70
    degraded_exit_failure_rate: 0.15
    baseline_only_exit_failure_rate: 0.25
    probe_every_n_requests: 1
  perf:
    worker_concurrency: 32
    per_market_inflight_limit: 1
    queue_timeout_ms: 100
  fallback:
    baseline_method: EWMA
    baseline_only_liquidity_bucket: low
  interval_sanity:
    min_width: 0.02
    max_width: 0.60
  conformal:
    state_path: data/derived/calibration/conformal_state.json
  slo:
    per_request_p95_ms: 300
    cycle_top_n_seconds: 60
